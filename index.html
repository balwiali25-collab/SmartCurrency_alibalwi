<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>عملتك الذكية</title>
<style>
  body { font-family: 'Segoe UI', Arial, sans-serif; background: #f0f4f8; margin:0; padding:0; text-align:center; }
  header { padding: 30px 0; }
  h1 { margin-bottom: 10px; color: #2c3e50; font-size:28px; }
  .lang-btns { margin-bottom: 20px; }
  button.lang { margin: 0 5px; padding: 5px 15px; cursor: pointer; border-radius:6px; border:none; background:#34495e; color:white; font-weight:bold; }
  .converter-card { background: white; padding: 30px; border-radius: 18px; box-shadow:0 12px 30px rgba(0,0,0,0.12); width:90%; max-width:480px; margin: auto;}
  input[type=number] { width:80%; padding:14px; font-size:18px; margin-bottom:15px; border-radius:12px; border:1px solid #ccc; transition:0.3s; }
  input[type=number]:focus { border-color:#3498db; box-shadow:0 0 12px rgba(52,152,219,0.3); outline:none; }
  button.convert, button.copy { padding:14px 28px; margin:5px; font-size:16px; border:none; border-radius:12px; cursor:pointer; transition:0.3s; font-weight:bold; }
  button.convert { background:#3498db; color:white; }
  button.convert:hover { background:#2980b9; }
  button.copy { background:#2ecc71; color:white; }
  button.copy:hover { background:#27ae60; }
  .result-card { margin-top:30px; padding:30px; border-radius:18px; background: linear-gradient(135deg,#d1e8ff,#ffffff); animation:fadeUp 0.6s ease forwards; display:none; box-shadow:0 10px 25px rgba(0,0,0,0.08);}
  .denominations { margin-top:20px; display:flex; flex-direction:column; gap:12px; }
  .denomination-card { padding:14px 18px; border-radius:12px; color:white; font-weight:bold; display:flex; justify-content:space-between; animation:fadeUp 0.5s ease forwards; }
  .denomination-500 { background: linear-gradient(45deg,#f39c12,#e67e22); }
  .denomination-200 { background: linear-gradient(45deg,#e74c3c,#c0392b); }
  .denomination-100 { background: linear-gradient(45deg,#3498db,#2980b9); }
  .denomination-50 { background: linear-gradient(45deg,#2ecc71,#27ae60); }
  .denomination-20 { background: linear-gradient(45deg,#9b59b6,#8e44ad); }
  .denomination-10 { background: linear-gradient(45deg,#1abc9c,#16a085); }
  @keyframes fadeUp { from {opacity:0; transform: translateY(15px);} to {opacity:1; transform: translateY(0);} }
  .toast { position:fixed; bottom:30px; left:50%; transform:translateX(-50%); background:#333; color:white; padding:14px 28px; border-radius:12px; opacity:0; transition:opacity 0.5s; font-weight:bold; z-index:999; }
  .toast.show { opacity:1; }
</style>
</head>
<body>

<header>
  <h1 id="title">عملتك الذكية</h1>
  <div class="lang-btns">
    <button class="lang" onclick="setLang('ar')">AR</button>
    <button class="lang" onclick="setLang('en')">EN</button>
  </div>
</header>

<div class="converter-card">
  <input type="number" id="amount" placeholder="أدخل المبلغ بالعملة القديمة">
  <div>
    <button class="convert" onclick="convert()">تحويل</button>
    <button class="copy" onclick="smartCopy()">نسخ النتيجة</button>
  </div>

  <div class="result-card" id="resultCard">
    <p id="newNumber"></p>
    <div class="denominations" id="denominations"></div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
let currentLang = 'ar';
let resultNumber = 0;

// ضبط اللغة
function setLang(lang) {
  currentLang = lang;
  document.body.dir = lang==='ar'?'rtl':'ltr';
  document.getElementById("title").innerText = lang==='ar'?"عملتك الذكية":"Your Smart Currency";
  document.querySelector("input").placeholder = lang==='ar'?"أدخل المبلغ بالعملة القديمة":"Enter your old currency amount";
  document.querySelector("button.convert").innerText = lang==='ar'?"تحويل":"Convert";
  document.querySelector("button.copy").innerText = lang==='ar'?"نسخ النتيجة":"Copy Result";
}

// حساب تفكيك العملات
function calculateDenominations(amount){
  const bills = [500,200,100,50,25,10];
  let remaining = amount;
  let result = {};
  for(let bill of bills){
    result[bill] = Math.floor(remaining / bill);
    remaining %= bill;
  }
  return result;
}

// التحويل
async function convert() {
  let input = document.getElementById("amount").value;
  if(!input || input<100) { alert(currentLang==='ar'?"الرقم غير صالح للتحويل":"Invalid number for conversion"); return; }
  resultNumber = Math.floor(input/100);

  const card = document.getElementById("resultCard");
  card.style.display='block';
  card.style.animation='none';
  card.offsetHeight;
  card.style.animation='fadeUp 0.6s ease forwards';

  document.getElementById("newNumber").innerText = currentLang==='ar'?`الرقم الجديد: ${resultNumber}`:`New number: ${resultNumber}`;

  const denoms = calculateDenominations(resultNumber);
  const colors = {500:'denomination-500',200:'denomination-200',100:'denomination-100',50:'denomination-50',20:'denomination-20',10:'denomination-10'};
  let html = '';
  for(let key in denoms){
    html += `<div class="denomination-card ${colors[key]}">
      <span>${currentLang==='ar'?key+' ليرة':'SYP '+key}</span>
      <span>${denoms[key]}</span>
    </div>`;
  }
  document.getElementById("denominations").innerHTML = html;
}

// النسخ ينسخ فقط الرقم الجديد والفئات
function smartCopy() {
  const denoms = calculateDenominations(resultNumber);
  let denomText = '';
  for(let key in denoms){ denomText += `${key}: ${denoms[key]}, `; }
  const text = currentLang==='ar'
    ? `الرقم: ${resultNumber}, الفئات: ${denomText}`
    : `Number: ${resultNumber}, denominations: ${denomText}`;
  navigator.clipboard.writeText(text);
  const toast = document.getElementById("toast");
  toast.innerText = currentLang==='ar'?"تم نسخ النتيجة بنجاح ✅":"Result copied successfully ✅";
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),2000);
}

setLang('ar');
</script>

</body>
</html> 
